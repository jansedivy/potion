/**
 * potion - v0.2.1
 * Copyright (c) 2014, Jan Sedivy
 *
 * Compiled: 2014-03-25
 *
 * potion is licensed under the MIT License.
 */
!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Potion=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("./src/engine");b.exports={init:function(a,b){var d=new c(a,b);return d.game}}},{"./src/engine":3}],2:[function(a,b){a("./lib/soundmanager2");var c=a("./utils"),d=function(){this.thingsToLoad=0,this._data={}};d.prototype.onload=function(a){this.callback=a,0===this.thingsToLoad&&this.callback()},d.prototype.get=function(a){return this._data[a]},d.prototype._handleCustomLoading=function(a){var b=this,c=function(a,c){b._save(a,c)};a(c)},d.prototype.load=function(a,b,d){var e=this;if(this.thingsToLoad+=1,c.isFunction(a))return void this._handleCustomLoading(a);a=a.toLowerCase();var f=new XMLHttpRequest;switch(a){case"json":f.open("GET",b,!0),f.responseType="text",f.onload=function(){var a=JSON.parse(this.response);e._save(b,a,d)},f.send();break;case"image":case"texture":case"sprite":var g=new Image;g.onload=function(){e._save(b,g,d)},g.src=b;break;default:f.open("GET",b,!0),f.responseType="text",f.onload=function(){var a=this.response;e._save(b,a,d)},f.send()}},d.prototype._save=function(a,b,c){this._data[a]=b,c&&c(b),this.finishedOneFile()},d.prototype.finishedOneFile=function(){this.thingsToLoad-=1,0===this.thingsToLoad&&this.callback()},b.exports=d},{"./lib/soundmanager2":7,"./utils":10}],3:[function(a,b){var c=a("./game"),d=a("./raf"),e=function(a,b){var d=function(a){c.call(this,a)};d.prototype=Object.create(c.prototype);for(var e in b)d.prototype[e]=b[e];this.game=new d(a),this.setupCanvasSize(),this.game.assets.onload(function(){this.start()}.bind(this))};e.prototype.addEvents=function(){var a=this;window.addEventListener("resize",function(){a.setupCanvasSize()}),window.addEventListener("blur",function(){a.game.input.resetKeys(),a.game.blur()}),window.addEventListener("focus",function(){a.game.input.resetKeys(),a.game.focus()})},e.prototype.setupCanvasSize=function(){this.game.resize(),this.game.video.width=this.game.canvas.width=this.game.width,this.game.video.height=this.game.canvas.height=this.game.height,this.game.isRetina&&this.game.video.scaleCanvas(2)},e.prototype.start=function(){this.start=!0,this.game.init(),this.addEvents(),this.startFrame()},e.prototype.startFrame=function(){this._time=Date.now();var a=this;d(function(){a.tick()})},e.prototype.tick=function(){var a=(Date.now()-this._time)/1e3;a>.016&&(a=.016),this.update(a),this.render(),this.startFrame()},e.prototype.update=function(a){this.game.update(a)},e.prototype.render=function(){this.game.video.beginFrame(),this.game.render(),this.game.video.endFrame()},b.exports=e},{"./game":4,"./raf":8}],4:[function(a,b){var c=a("./video"),d=a("./input"),e=a("./assets"),f=a("./retina"),g=function(a){this.canvas=a,this.video=new c(a),this.width=300,this.height=300,this.assets=new e,this.isRetina=f(),this.input=new d(this),this.config()};g.prototype.init=function(){},g.prototype.config=function(){},g.prototype.resize=function(){},g.prototype.render=function(){},g.prototype.update=function(){},g.prototype.keypress=function(){},g.prototype.click=function(){},g.prototype.mousemove=function(){},g.prototype.focus=function(){},g.prototype.blur=function(){},b.exports=g},{"./assets":2,"./input":5,"./retina":9,"./video":11}],5:[function(a,b){var c=a("./keys"),d=function(a){this.keys={},this.canControlKeys=!0,this.mouse={isDown:!1,position:{x:null,y:null}},this._addEvents(a)};d.prototype.resetKeys=function(){this.keys={}},d.prototype.isKeyDown=function(a){return this.canControlKeys?this.keys[c[a.toUpperCase()]]:void 0},d.prototype._addEvents=function(a){var b=this,c=a.canvas;c.addEventListener("mousemove",function(c){a.mousemove(c.offsetX,c.offsetY),b.mouse.position.x=c.offsetX,b.mouse.position.y=c.offsetY}),c.addEventListener("mouseup",function(){b.mouse.isDown=!1}),c.addEventListener("mousedown",function(a){b.mouse.position.x=a.offsetX,b.mouse.position.y=a.offsetY,b.mouse.isDown=!0}),c.addEventListener("click",function(b){a.click(b.offsetX,b.offsetY)}),document.addEventListener("keypress",function(b){a.keypress(b.keyCode)}),document.addEventListener("keydown",function(b){a.input.keys[b.keyCode]=!0}),document.addEventListener("keyup",function(b){a.input.keys[b.keyCode]=!1})},b.exports=d},{"./keys":6}],6:[function(a,b){b.exports={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190}},{}],7:[function(){!function(a,b){function c(c,d){function e(a){return jb.preferFlash&&eb&&!jb.ignoreFlash&&jb.flash[a]!==b&&jb.flash[a]}function f(a){return function(b){var c=this._s;return c&&c._a?a.call(this,b):null}}this.setupOptions={url:c||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=d||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20131201",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb=this,kb=null,lb=null,mb=navigator.userAgent,nb=a.location.href.toString(),ob=document,pb=[],qb=!1,rb=!1,sb=!1,tb=!1,ub=!1,vb=null,wb=null,xb=!1,yb=!1,zb=0,Ab=null,Bb=[],Cb=null,Db=Array.prototype.slice,Eb=!1,Fb=0,Gb=mb.match(/(ipad|iphone|ipod)/i),Hb=mb.match(/android/i),Ib=mb.match(/msie/i),Jb=mb.match(/webkit/i),Kb=mb.match(/safari/i)&&!mb.match(/chrome/i),Lb=mb.match(/opera/i),Mb=mb.match(/(mobile|pre\/|xoom)/i)||Gb||Hb,Nb=!nb.match(/usehtml5audio/i)&&!nb.match(/sm2\-ignorebadua/i)&&Kb&&!mb.match(/silk/i)&&mb.match(/OS X 10_6_([3-7])/i),Ob=ob.hasFocus!==b?ob.hasFocus():null,Pb=Kb&&(ob.hasFocus===b||!ob.hasFocus()),Qb=!Pb,Rb=/(mp3|mp4|mpa|m4a|m4b)/i,Sb=ob.location?ob.location.protocol.match(/http/i):null,Tb=Sb?"":"http://",Ub=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Vb="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),Wb=RegExp("\\.("+Vb.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Sb;var Xb;try{Xb=Audio!==b&&(Lb&&opera!==b&&10>opera.version()?new Audio(null):new Audio).canPlayType!==b}catch(Yb){Xb=!1}this.hasHTML5=Xb,this.setup=function(a){var c=!jb.url;return a!==b&&sb&&Cb&&jb.ok(),o(a),a&&(c&&D&&a.url!==b&&jb.beginDelayedInit(),!D&&a.url!==b&&"complete"===ob.readyState&&setTimeout(B,1)),jb},this.supported=this.ok=function(){return Cb?sb&&!tb:jb.useHTML5Audio&&jb.hasHTML5},this.getMovie=function(b){return h(b)||ob[b]||a[b]},this.createSound=function(a,c){function d(){return e=P(e),jb.sounds[e.id]=new g(e),jb.soundIDs.push(e.id),jb.sounds[e.id]}var e,f=null;if(!sb||!jb.ok())return!1;if(c!==b&&(a={id:a,url:c}),e=n(a),e.url=V(e.url),void 0===e.id&&(e.id=jb.setupOptions.idPrefix+Fb++),R(e.id,!0))return jb.sounds[e.id];if(Y(e))f=d(),f._setup_html5(e);else{if(jb.html5Only||jb.html5.usingFlash&&e.url&&e.url.match(/data\:/i))return d();l>8&&null===e.isMovieStar&&(e.isMovieStar=!(!e.serverURL&&!(e.type&&e.type.match(Ub)||e.url&&e.url.match(Wb)))),e=Q(e,void 0),f=d(),8===l?lb._createSound(e.id,e.loops||1,e.usePolicyFile):(lb._createSound(e.id,e.url,e.usePeakData,e.useWaveformData,e.useEQData,e.isMovieStar,e.isMovieStar?e.bufferTime:!1,e.loops||1,e.serverURL,e.duration||null,e.autoPlay,!0,e.autoLoad,e.usePolicyFile),e.serverURL||(f.connected=!0,e.onconnect&&e.onconnect.apply(f))),!e.serverURL&&(e.autoLoad||e.autoPlay)&&f.load(e)}return!e.serverURL&&e.autoPlay&&f.play(),f},this.destroySound=function(a,b){if(!R(a))return!1;var c,d=jb.sounds[a];for(d._iO={},d.stop(),d.unload(),c=0;c<jb.soundIDs.length;c++)if(jb.soundIDs[c]===a){jb.soundIDs.splice(c,1);break}return b||d.destruct(!0),delete jb.sounds[a],!0},this.load=function(a,b){return R(a)?jb.sounds[a].load(b):!1},this.unload=function(a){return R(a)?jb.sounds[a].unload():!1},this.onposition=this.onPosition=function(a,b,c,d){return R(a)?jb.sounds[a].onposition(b,c,d):!1},this.clearOnPosition=function(a,b,c){return R(a)?jb.sounds[a].clearOnPosition(b,c):!1},this.start=this.play=function(a,b){var c=null,d=b&&!(b instanceof Object);if(!sb||!jb.ok())return!1;if(R(a,d))d&&(b={url:b});else{if(!d)return!1;d&&(b={url:b}),b&&b.url&&(b.id=a,c=jb.createSound(b).play())}return null===c&&(c=jb.sounds[a].play(b)),c},this.setPosition=function(a,b){return R(a)?jb.sounds[a].setPosition(b):!1},this.stop=function(a){return R(a)?jb.sounds[a].stop():!1},this.stopAll=function(){for(var a in jb.sounds)jb.sounds.hasOwnProperty(a)&&jb.sounds[a].stop()},this.pause=function(a){return R(a)?jb.sounds[a].pause():!1},this.pauseAll=function(){var a;for(a=jb.soundIDs.length-1;a>=0;a--)jb.sounds[jb.soundIDs[a]].pause()},this.resume=function(a){return R(a)?jb.sounds[a].resume():!1},this.resumeAll=function(){var a;for(a=jb.soundIDs.length-1;a>=0;a--)jb.sounds[jb.soundIDs[a]].resume()},this.togglePause=function(a){return R(a)?jb.sounds[a].togglePause():!1},this.setPan=function(a,b){return R(a)?jb.sounds[a].setPan(b):!1},this.setVolume=function(a,b){return R(a)?jb.sounds[a].setVolume(b):!1},this.mute=function(a){var b=0;if(a instanceof String&&(a=null),a)return R(a)?jb.sounds[a].mute():!1;for(b=jb.soundIDs.length-1;b>=0;b--)jb.sounds[jb.soundIDs[b]].mute();return jb.muted=!0},this.muteAll=function(){jb.mute()},this.unmute=function(a){if(a instanceof String&&(a=null),a)return R(a)?jb.sounds[a].unmute():!1;for(a=jb.soundIDs.length-1;a>=0;a--)jb.sounds[jb.soundIDs[a]].unmute();return jb.muted=!1,!0},this.unmuteAll=function(){jb.unmute()},this.toggleMute=function(a){return R(a)?jb.sounds[a].toggleMute():!1},this.getMemoryUse=function(){var a=0;return lb&&8!==l&&(a=parseInt(lb._getMemoryUse(),10)),a},this.disable=function(c){var d;if(c===b&&(c=!1),tb)return!1;for(tb=!0,d=jb.soundIDs.length-1;d>=0;d--)J(jb.sounds[jb.soundIDs[d]]);return m(c),cb.remove(a,"load",s),!0},this.canPlayMIME=function(a){var b;return jb.hasHTML5&&(b=Z({type:a})),!b&&Cb&&(b=a&&jb.ok()?!!(l>8&&a.match(Ub)||a.match(jb.mimePattern)):null),b},this.canPlayURL=function(a){var b;return jb.hasHTML5&&(b=Z({url:a})),!b&&Cb&&(b=a&&jb.ok()?!!a.match(jb.filePattern):null),b},this.canPlayLink=function(a){return a.type!==b&&a.type&&jb.canPlayMIME(a.type)?!0:jb.canPlayURL(a.href)},this.getSoundById=function(a){return a?jb.sounds[a]:null},this.onready=function(b,c){if("function"!=typeof b)throw M("needFunction","onready");return c||(c=a),q("onready",b,c),r(),!0},this.ontimeout=function(b,c){if("function"!=typeof b)throw M("needFunction","ontimeout");return c||(c=a),q("ontimeout",b,c),r({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(){return!0},this._debug=function(){},this.reboot=function(b,c){var d,e,f;for(d=jb.soundIDs.length-1;d>=0;d--)jb.sounds[jb.soundIDs[d]].destruct();if(lb)try{Ib&&(wb=lb.innerHTML),vb=lb.parentNode.removeChild(lb)}catch(g){}if(wb=vb=Cb=lb=null,jb.enabled=D=sb=xb=yb=qb=rb=tb=Eb=jb.swfLoaded=!1,jb.soundIDs=[],jb.sounds={},Fb=0,b)pb=[];else for(d in pb)if(pb.hasOwnProperty(d))for(e=0,f=pb[d].length;f>e;e++)pb[d][e].fired=!1;return jb.html5={usingFlash:null},jb.flash={},jb.html5Only=!1,jb.ignoreFlash=!1,a.setTimeout(function(){A(),c||jb.beginDelayedInit()},20),jb},this.reset=function(){return jb.reboot(!0,!0)},this.getMoviePercent=function(){return lb&&"PercentLoaded"in lb?lb.PercentLoaded():null},this.beginDelayedInit=function(){ub=!0,B(),setTimeout(function(){return yb?!1:(F(),z(),yb=!0)},20),t()},this.destruct=function(){jb.disable(!0)},g=function(a){var c,d,e,f,g,h,i,j,k,m,o,p=this,q=!1,r=[],s=0,t=null;d=c=null,this.sID=this.id=a.id,this.url=a.url,this._iO=this.instanceOptions=this.options=n(a),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,o=this.url?!1:!0,this.id3={},this._debug=function(){},this.load=function(a){var c,d=null;if(a!==b?p._iO=n(a,p.options):(a=p.options,p._iO=a,t&&t!==p.url&&(p._iO.url=p.url,p.url=null)),p._iO.url||(p._iO.url=p.url),p._iO.url=V(p._iO.url),c=p.instanceOptions=p._iO,!c.url&&!p.url)return p;if(c.url===p.url&&0!==p.readyState&&2!==p.readyState)return 3===p.readyState&&c.onload&&ib(p,function(){c.onload.apply(p,[!!p.duration])}),p;if(p.loaded=!1,p.readyState=1,p.playState=0,p.id3={},Y(c))d=p._setup_html5(c),d._called_load||(p._html5_canplay=!1,p.url!==c.url&&(p._a.src=c.url,p.setPosition(0)),p._a.autobuffer="auto",p._a.preload="auto",p._a._called_load=!0);else{if(jb.html5Only||p._iO.url&&p._iO.url.match(/data\:/i))return p;try{p.isHTML5=!1,p._iO=Q(P(c)),c=p._iO,8===l?lb._load(p.id,c.url,c.stream,c.autoPlay,c.usePolicyFile):lb._load(p.id,c.url,!!c.stream,!!c.autoPlay,c.loops||1,!!c.autoLoad,c.usePolicyFile)}catch(e){G({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return p.url=c.url,p},this.unload=function(){return 0!==p.readyState&&(p.isHTML5?(h(),p._a&&(p._a.pause(),t=_(p._a))):8===l?lb._unload(p.id,"about:blank"):lb._unload(p.id),e()),p},this.destruct=function(a){p.isHTML5?(h(),p._a&&(p._a.pause(),_(p._a),Eb||g(),p._a._s=null,p._a=null)):(p._iO.onfailure=null,lb._destroySound(p.id)),a||jb.destroySound(p.id,!0)},this.start=this.play=function(a,c){var d,e,f,g,h;if(e=!0,e=null,c=c===b?!0:c,a||(a={}),p.url&&(p._iO.url=p.url),p._iO=n(p._iO,p.options),p._iO=n(a,p._iO),p._iO.url=V(p._iO.url),p.instanceOptions=p._iO,!p.isHTML5&&p._iO.serverURL&&!p.connected)return p.getAutoPlay()||p.setAutoPlay(!0),p;if(Y(p._iO)&&(p._setup_html5(p._iO),i()),1===p.playState&&!p.paused&&(d=p._iO.multiShot,d||(p.isHTML5&&p.setPosition(p._iO.position),e=p)),null!==e)return e;if(a.url&&a.url!==p.url&&(p.readyState||p.isHTML5||8!==l||!o?p.load(p._iO):o=!1),p.loaded||(0===p.readyState?(p.isHTML5||jb.html5Only?p.isHTML5?p.load(p._iO):e=p:(p._iO.autoPlay=!0,p.load(p._iO)),p.instanceOptions=p._iO):2===p.readyState&&(e=p)),null!==e)return e;if(!p.isHTML5&&9===l&&0<p.position&&p.position===p.duration&&(a.position=0),p.paused&&0<=p.position&&(!p._iO.serverURL||0<p.position))p.resume();else{if(p._iO=n(a,p._iO),null!==p._iO.from&&null!==p._iO.to&&0===p.instanceCount&&0===p.playState&&!p._iO.serverURL){if(d=function(){p._iO=n(a,p._iO),p.play(p._iO)},p.isHTML5&&!p._html5_canplay?(p.load({_oncanplay:d}),e=!1):p.isHTML5||p.loaded||p.readyState&&2===p.readyState||(p.load({onload:d}),e=!1),null!==e)return e;p._iO=m()}(!p.instanceCount||p._iO.multiShotEvents||p.isHTML5&&p._iO.multiShot&&!Eb||!p.isHTML5&&l>8&&!p.getAutoPlay())&&p.instanceCount++,p._iO.onposition&&0===p.playState&&j(p),p.playState=1,p.paused=!1,p.position=p._iO.position===b||isNaN(p._iO.position)?0:p._iO.position,p.isHTML5||(p._iO=Q(P(p._iO))),p._iO.onplay&&c&&(p._iO.onplay.apply(p),q=!0),p.setVolume(p._iO.volume,!0),p.setPan(p._iO.pan,!0),p.isHTML5?2>p.instanceCount?(i(),e=p._setup_html5(),p.setPosition(p._iO.position),e.play()):(f=new Audio(p._iO.url),g=function(){cb.remove(f,"ended",g),p._onfinish(p),_(f),f=null},h=function(){cb.remove(f,"canplay",h);try{f.currentTime=p._iO.position/1e3}catch(a){}f.play()},cb.add(f,"ended",g),void 0!==p._iO.volume&&(f.volume=Math.max(0,Math.min(1,p._iO.volume/100))),p.muted&&(f.muted=!0),p._iO.position?cb.add(f,"canplay",h):f.play()):(e=lb._start(p.id,p._iO.loops||1,9===l?p.position:p.position/1e3,p._iO.multiShot||!1),9===l&&!e&&p._iO.onplayerror&&p._iO.onplayerror.apply(p))}return p},this.stop=function(a){var b=p._iO;return 1===p.playState&&(p._onbufferchange(0),p._resetOnPosition(0),p.paused=!1,p.isHTML5||(p.playState=0),k(),b.to&&p.clearOnPosition(b.to),p.isHTML5?p._a&&(a=p.position,p.setPosition(0),p.position=a,p._a.pause(),p.playState=0,p._onTimer(),h()):(lb._stop(p.id,a),b.serverURL&&p.unload()),p.instanceCount=0,p._iO={},b.onstop&&b.onstop.apply(p)),p},this.setAutoPlay=function(a){p._iO.autoPlay=a,p.isHTML5||(lb._setAutoPlay(p.id,a),a&&!p.instanceCount&&1===p.readyState&&p.instanceCount++)},this.getAutoPlay=function(){return p._iO.autoPlay},this.setPosition=function(a){a===b&&(a=0);var c=p.isHTML5?Math.max(a,0):Math.min(p.duration||p._iO.duration,Math.max(a,0));if(p.position=c,a=p.position/1e3,p._resetOnPosition(p.position),p._iO.position=c,p.isHTML5){if(p._a){if(p._html5_canplay){if(p._a.currentTime!==a)try{p._a.currentTime=a,(0===p.playState||p.paused)&&p._a.pause()}catch(d){}}else if(a)return p;p.paused&&p._onTimer(!0)}}else a=9===l?p.position:a,p.readyState&&2!==p.readyState&&lb._setPosition(p.id,a,p.paused||!p.playState,p._iO.multiShot);return p},this.pause=function(a){return p.paused||0===p.playState&&1!==p.readyState?p:(p.paused=!0,p.isHTML5?(p._setup_html5().pause(),h()):(a||a===b)&&lb._pause(p.id,p._iO.multiShot),p._iO.onpause&&p._iO.onpause.apply(p),p)},this.resume=function(){var a=p._iO;return p.paused?(p.paused=!1,p.playState=1,p.isHTML5?(p._setup_html5().play(),i()):(a.isMovieStar&&!a.serverURL&&p.setPosition(p.position),lb._pause(p.id,a.multiShot)),!q&&a.onplay?(a.onplay.apply(p),q=!0):a.onresume&&a.onresume.apply(p),p):p},this.togglePause=function(){return 0===p.playState?(p.play({position:9!==l||p.isHTML5?p.position/1e3:p.position}),p):(p.paused?p.resume():p.pause(),p)},this.setPan=function(a,c){return a===b&&(a=0),c===b&&(c=!1),p.isHTML5||lb._setPan(p.id,a),p._iO.pan=a,c||(p.pan=a,p.options.pan=a),p},this.setVolume=function(a,c){return a===b&&(a=100),c===b&&(c=!1),p.isHTML5?p._a&&(jb.muted&&!p.muted&&(p.muted=!0,p._a.muted=!0),p._a.volume=Math.max(0,Math.min(1,a/100))):lb._setVolume(p.id,jb.muted&&!p.muted||p.muted?0:a),p._iO.volume=a,c||(p.volume=a,p.options.volume=a),p},this.mute=function(){return p.muted=!0,p.isHTML5?p._a&&(p._a.muted=!0):lb._setVolume(p.id,0),p},this.unmute=function(){p.muted=!1;var a=p._iO.volume!==b;return p.isHTML5?p._a&&(p._a.muted=!1):lb._setVolume(p.id,a?p._iO.volume:p.options.volume),p},this.toggleMute=function(){return p.muted?p.unmute():p.mute()},this.onposition=this.onPosition=function(a,c,d){return r.push({position:parseInt(a,10),method:c,scope:d!==b?d:p,fired:!1}),p},this.clearOnPosition=function(a,b){var c;if(a=parseInt(a,10),isNaN(a))return!1;for(c=0;c<r.length;c++)a!==r[c].position||b&&b!==r[c].method||(r[c].fired&&s--,r.splice(c,1))},this._processOnPosition=function(){var a,b;if(a=r.length,!a||!p.playState||s>=a)return!1;for(a-=1;a>=0;a--)b=r[a],!b.fired&&p.position>=b.position&&(b.fired=!0,s++,b.method.apply(b.scope,[b.position]));return!0},this._resetOnPosition=function(a){var b,c;if(b=r.length,!b)return!1;for(b-=1;b>=0;b--)c=r[b],c.fired&&a<=c.position&&(c.fired=!1,s--);return!0},m=function(){var a,b,c=p._iO,d=c.from,e=c.to;return b=function(){p.clearOnPosition(e,b),p.stop()},a=function(){null===e||isNaN(e)||p.onPosition(e,b)},null!==d&&!isNaN(d)&&(c.position=d,c.multiShot=!1,a()),c},j=function(){var a,b=p._iO.onposition;if(b)for(a in b)b.hasOwnProperty(a)&&p.onPosition(parseInt(a,10),b[a])},k=function(){var a,b=p._iO.onposition;if(b)for(a in b)b.hasOwnProperty(a)&&p.clearOnPosition(parseInt(a,10))},i=function(){p.isHTML5&&S(p)},h=function(){p.isHTML5&&T(p)},e=function(a){a||(r=[],s=0),q=!1,p._hasTimer=null,p._a=null,p._html5_canplay=!1,p.bytesLoaded=null,p.bytesTotal=null,p.duration=p._iO&&p._iO.duration?p._iO.duration:null,p.durationEstimate=null,p.buffered=[],p.eqData=[],p.eqData.left=[],p.eqData.right=[],p.failures=0,p.isBuffering=!1,p.instanceOptions={},p.instanceCount=0,p.loaded=!1,p.metadata={},p.readyState=0,p.muted=!1,p.paused=!1,p.peakData={left:0,right:0},p.waveformData={left:[],right:[]},p.playState=0,p.position=null,p.id3={}},e(),this._onTimer=function(a){var b,e=!1,f={};return p._hasTimer||a?(p._a&&(a||(0<p.playState||1===p.readyState)&&!p.paused)&&(b=p._get_html5_duration(),b!==c&&(c=b,p.duration=b,e=!0),p.durationEstimate=p.duration,b=1e3*p._a.currentTime||0,b!==d&&(d=b,e=!0),(e||a)&&p._whileplaying(b,f,f,f,f)),e):void 0},this._get_html5_duration=function(){var a=p._iO;return(a=p._a&&p._a.duration?1e3*p._a.duration:a&&a.duration?a.duration:null)&&!isNaN(a)&&1/0!==a?a:null},this._apply_loop=function(a,b){a.loop=b>1?"loop":""},this._setup_html5=function(a){a=n(p._iO,a);var b,c=Eb?kb:p._a,d=decodeURI(a.url);if(Eb?d===decodeURI(db)&&(b=!0):d===decodeURI(t)&&(b=!0),c){if(c._s)if(Eb)c._s&&c._s.playState&&!b&&c._s.stop();else if(!Eb&&d===decodeURI(t))return p._apply_loop(c,a.loops),c;b||(t&&e(!1),c.src=a.url,db=t=p.url=a.url,c._called_load=!1)}else a.autoLoad||a.autoPlay?(p._a=new Audio(a.url),p._a.load()):p._a=Lb&&10>opera.version()?new Audio(null):new Audio,c=p._a,c._called_load=!1,Eb&&(kb=c);return p.isHTML5=!0,p._a=c,c._s=p,f(),p._apply_loop(c,a.loops),a.autoLoad||a.autoPlay?p.load():(c.autobuffer=!1,c.preload="auto"),c},f=function(){if(p._a._added_events)return!1;var a;p._a._added_events=!0;for(a in hb)hb.hasOwnProperty(a)&&p._a&&p._a.addEventListener(a,hb[a],!1);return!0},g=function(){var a;p._a._added_events=!1;for(a in hb)hb.hasOwnProperty(a)&&p._a&&p._a.removeEventListener(a,hb[a],!1)},this._onload=function(a){var b=!!a||!p.isHTML5&&8===l&&p.duration;return p.loaded=b,p.readyState=b?3:2,p._onbufferchange(0),p._iO.onload&&ib(p,function(){p._iO.onload.apply(p,[b])}),!0},this._onbufferchange=function(a){return 0===p.playState||a&&p.isBuffering||!a&&!p.isBuffering?!1:(p.isBuffering=1===a,p._iO.onbufferchange&&p._iO.onbufferchange.apply(p),!0)},this._onsuspend=function(){return p._iO.onsuspend&&p._iO.onsuspend.apply(p),!0},this._onfailure=function(a,b,c){p.failures++,p._iO.onfailure&&1===p.failures&&p._iO.onfailure(p,a,b,c)},this._onfinish=function(){var a=p._iO.onfinish;p._onbufferchange(0),p._resetOnPosition(0),p.instanceCount&&(p.instanceCount--,p.instanceCount||(k(),p.playState=0,p.paused=!1,p.instanceCount=0,p.instanceOptions={},p._iO={},h(),p.isHTML5&&(p.position=0)),(!p.instanceCount||p._iO.multiShotEvents)&&a&&ib(p,function(){a.apply(p)}))},this._whileloading=function(a,b,c,d){var e=p._iO;p.bytesLoaded=a,p.bytesTotal=b,p.duration=Math.floor(c),p.bufferLength=d,p.durationEstimate=p.isHTML5||e.isMovieStar?p.duration:e.duration?p.duration>e.duration?p.duration:e.duration:parseInt(p.bytesTotal/p.bytesLoaded*p.duration,10),p.isHTML5||(p.buffered=[{start:0,end:p.duration}]),(3!==p.readyState||p.isHTML5)&&e.whileloading&&e.whileloading.apply(p)},this._whileplaying=function(a,c,d,e,f){var g=p._iO;return isNaN(a)||null===a?!1:(p.position=Math.max(0,a),p._processOnPosition(),!p.isHTML5&&l>8&&(g.usePeakData&&c!==b&&c&&(p.peakData={left:c.leftPeak,right:c.rightPeak}),g.useWaveformData&&d!==b&&d&&(p.waveformData={left:d.split(","),right:e.split(",")}),g.useEQData&&f!==b&&f&&f.leftEQ&&(a=f.leftEQ.split(","),p.eqData=a,p.eqData.left=a,f.rightEQ!==b&&f.rightEQ&&(p.eqData.right=f.rightEQ.split(",")))),1===p.playState&&(!p.isHTML5&&8===l&&!p.position&&p.isBuffering&&p._onbufferchange(0),g.whileplaying&&g.whileplaying.apply(p)),!0)},this._oncaptiondata=function(a){p.captiondata=a,p._iO.oncaptiondata&&p._iO.oncaptiondata.apply(p,[a])},this._onmetadata=function(a,b){var c,d,e={};for(c=0,d=a.length;d>c;c++)e[a[c]]=b[c];p.metadata=e,p._iO.onmetadata&&p._iO.onmetadata.apply(p)},this._onid3=function(a,b){var c,d,e=[];for(c=0,d=a.length;d>c;c++)e[a[c]]=b[c];p.id3=n(p.id3,e),p._iO.onid3&&p._iO.onid3.apply(p)},this._onconnect=function(a){a=1===a,(p.connected=a)&&(p.failures=0,R(p.id)&&(p.getAutoPlay()?p.play(b,p.getAutoPlay()):p._iO.autoLoad&&p.load()),p._iO.onconnect&&p._iO.onconnect.apply(p,[a]))},this._ondataerror=function(){0<p.playState&&p._iO.ondataerror&&p._iO.ondataerror.apply(p)}},E=function(){return ob.body||ob.getElementsByTagName("div")[0]},h=function(a){return ob.getElementById(a)},n=function(a,c){var d,e,f=a||{};d=c===b?jb.defaultOptions:c;for(e in d)d.hasOwnProperty(e)&&f[e]===b&&(f[e]="object"!=typeof d[e]||null===d[e]?d[e]:n(f[e],d[e]));return f},ib=function(b,c){b.isHTML5||8!==l?c():a.setTimeout(c,0)},p={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},o=function(a,c){var d,e=!0,f=c!==b,g=jb.setupOptions;for(d in a)if(a.hasOwnProperty(d))if("object"!=typeof a[d]||null===a[d]||a[d]instanceof Array||a[d]instanceof RegExp)f&&p[c]!==b?jb[c][d]=a[d]:g[d]!==b?(jb.setupOptions[d]=a[d],jb[d]=a[d]):p[d]===b?e=!1:jb[d]instanceof Function?jb[d].apply(jb,a[d]instanceof Array?a[d]:[a[d]]):jb[d]=a[d];else{if(p[d]!==b)return o(a[d],d);e=!1}return e},cb=function(){function b(a){a=Db.call(a);var b=a.length;return d?(a[1]="on"+a[1],b>3&&a.pop()):3===b&&a.push(!1),a}function c(a,b){var c=a.shift(),f=[e[b]];d?c[f](a[0],a[1]):c[f].apply(c,a)}var d=a.attachEvent,e={add:d?"attachEvent":"addEventListener",remove:d?"detachEvent":"removeEventListener"};return{add:function(){c(b(arguments),"add")},remove:function(){c(b(arguments),"remove")}}}(),hb={abort:f(function(){}),canplay:f(function(){var a,c=this._s;if(c._html5_canplay)return!0;if(c._html5_canplay=!0,c._onbufferchange(0),a=c._iO.position===b||isNaN(c._iO.position)?null:c._iO.position/1e3,c.position&&this.currentTime!==a)try{this.currentTime=a}catch(d){}c._iO._oncanplay&&c._iO._oncanplay()}),canplaythrough:f(function(){var a=this._s;a.loaded||(a._onbufferchange(0),a._whileloading(a.bytesLoaded,a.bytesTotal,a._get_html5_duration()),a._onload(!0))}),ended:f(function(){this._s._onfinish()}),error:f(function(){this._s._onload(!1)}),loadeddata:f(function(){var a=this._s;!a._loaded&&!Kb&&(a.duration=a._get_html5_duration())}),loadedmetadata:f(function(){}),loadstart:f(function(){this._s._onbufferchange(1)}),play:f(function(){this._s._onbufferchange(0)}),playing:f(function(){this._s._onbufferchange(0)}),progress:f(function(a){var b,c,d=this._s,e=0,e=a.target.buffered;b=a.loaded||0;var f=a.total||1;if(d.buffered=[],e&&e.length){for(b=0,c=e.length;c>b;b++)d.buffered.push({start:1e3*e.start(b),end:1e3*e.end(b)});e=1e3*(e.end(0)-e.start(0)),b=Math.min(1,e/(1e3*a.target.duration))}isNaN(b)||(d._onbufferchange(0),d._whileloading(b,f,d._get_html5_duration()),b&&f&&b===f&&hb.canplaythrough.call(this,a))}),ratechange:f(function(){}),suspend:f(function(a){var b=this._s;hb.progress.call(this,a),b._onsuspend()}),stalled:f(function(){}),timeupdate:f(function(){this._s._onTimer()}),waiting:f(function(){this._s._onbufferchange(1)})},Y=function(a){return a&&(a.type||a.url||a.serverURL)?a.serverURL||a.type&&e(a.type)?!1:a.type?Z({type:a.type}):Z({url:a.url})||jb.html5Only||a.url.match(/data\:/i):!1},_=function(a){var b;return a&&(b=Kb?"about:blank":jb.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",a.src=b,void 0!==a._called_unload&&(a._called_load=!1)),Eb&&(db=null),b},Z=function(a){if(!jb.useHTML5Audio||!jb.hasHTML5)return!1;var c=a.url||null;a=a.type||null;var d,f=jb.audioFormats;if(a&&jb.html5[a]!==b)return jb.html5[a]&&!e(a);if(!$){$=[];for(d in f)f.hasOwnProperty(d)&&($.push(d),f[d].related&&($=$.concat(f[d].related)));$=RegExp("\\.("+$.join("|")+")(\\?.*)?$","i")}return d=c?c.toLowerCase().match($):null,d&&d.length?d=d[1]:a&&(c=a.indexOf(";"),d=(-1!==c?a.substr(0,c):a).substr(6)),d&&jb.html5[d]!==b?c=jb.html5[d]&&!e(d):(a="audio/"+d,c=jb.html5.canPlayType({type:a}),c=(jb.html5[d]=c)&&jb.html5[a]&&!e(a)),c},bb=function(){function a(a){var b,c=b=!1;if(!g||"function"!=typeof g.canPlayType)return b;if(a instanceof Array){for(f=0,b=a.length;b>f;f++)(jb.html5[a[f]]||g.canPlayType(a[f]).match(jb.html5Test))&&(c=!0,jb.html5[a[f]]=!0,jb.flash[a[f]]=!!a[f].match(Rb));b=c}else a=g&&"function"==typeof g.canPlayType?g.canPlayType(a):!1,b=!(!a||!a.match(jb.html5Test));return b}if(!jb.useHTML5Audio||!jb.hasHTML5)return Cb=jb.html5.usingFlash=!0,!1;var c,d,e,f,g=Audio!==b?Lb&&10>opera.version()?new Audio(null):new Audio:null,h={};e=jb.audioFormats;for(c in e)if(e.hasOwnProperty(c)&&(d="audio/"+c,h[c]=a(e[c].type),h[d]=h[c],c.match(Rb)?(jb.flash[c]=!0,jb.flash[d]=!0):(jb.flash[c]=!1,jb.flash[d]=!1),e[c]&&e[c].related))for(f=e[c].related.length-1;f>=0;f--)h["audio/"+e[c].related[f]]=h[c],jb.html5[e[c].related[f]]=h[c],jb.flash[e[c].related[f]]=h[c];return h.canPlayType=g?a:null,jb.html5=n(jb.html5,h),jb.html5.usingFlash=X(),Cb=jb.html5.usingFlash,!0},y={},M=function(){},P=function(a){return 8===l&&1<a.loops&&a.stream&&(a.stream=!1),a},Q=function(a){return a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData)&&(a.usePolicyFile=!0),a},i=function(){return!1},J=function(a){for(var b in a)a.hasOwnProperty(b)&&"function"==typeof a[b]&&(a[b]=i)},K=function(a){a===b&&(a=!1),(tb||a)&&jb.disable(a)},L=function(a){var b=null;if(a)if(a.match(/\.swf(\?.*)?$/i)){if(b=a.substr(a.toLowerCase().lastIndexOf(".swf?")+4))return a}else a.lastIndexOf("/")!==a.length-1&&(a+="/");return a=(a&&-1!==a.lastIndexOf("/")?a.substr(0,a.lastIndexOf("/")+1):"./")+jb.movieURL,jb.noSWFCache&&(a+="?ts="+(new Date).getTime()),a},w=function(){l=parseInt(jb.flashVersion,10),8!==l&&9!==l&&(jb.flashVersion=l=8);var a=jb.debugMode||jb.debugFlash?"_debug.swf":".swf";jb.useHTML5Audio&&!jb.html5Only&&jb.audioFormats.mp4.required&&9>l&&(jb.flashVersion=l=9),jb.version=jb.versionNumber+(jb.html5Only?" (HTML5-only mode)":9===l?" (AS3/Flash 9)":" (AS2/Flash 8)"),l>8?(jb.defaultOptions=n(jb.defaultOptions,jb.flash9Options),jb.features.buffering=!0,jb.defaultOptions=n(jb.defaultOptions,jb.movieStarOptions),jb.filePatterns.flash9=RegExp("\\.(mp3|"+Vb.join("|")+")(\\?.*)?$","i"),jb.features.movieStar=!0):jb.features.movieStar=!1,jb.filePattern=jb.filePatterns[8!==l?"flash9":"flash8"],jb.movieURL=(8===l?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a),jb.features.peakData=jb.features.waveformData=jb.features.eqData=l>8
},H=function(a,b){return lb?void lb._setPolling(a,b):!1},I=function(){},R=this.getSoundById,O=function(){var a=[];return jb.debugMode&&a.push("sm2_debug"),jb.debugFlash&&a.push("flash_debug"),jb.useHighPerformance&&a.push("high_performance"),a.join(" ")},N=function(){M("fbHandler");var a=jb.getMoviePercent(),b={type:"FLASHBLOCK"};return jb.html5Only?!1:void(jb.ok()?jb.oMC&&(jb.oMC.className=[O(),"movieContainer","swf_loaded"+(jb.didFlashBlock?" swf_unblocked":"")].join(" ")):(Cb&&(jb.oMC.className=O()+" movieContainer "+(null===a?"swf_timedout":"swf_error")),jb.didFlashBlock=!0,r({type:"ontimeout",ignoreInit:!0,error:b}),G(b)))},q=function(a,c,d){pb[a]===b&&(pb[a]=[]),pb[a].push({method:c,scope:d||null,fired:!1})},r=function(a){if(a||(a={type:jb.ok()?"onready":"ontimeout"}),!sb&&a&&!a.ignoreInit||"ontimeout"===a.type&&(jb.ok()||tb&&!a.ignoreInit))return!1;var b,c={success:a&&a.ignoreInit?jb.ok():!tb},d=a&&a.type?pb[a.type]||[]:[],e=[],c=[c],f=Cb&&!jb.ok();for(a.error&&(c[0].error=a.error),a=0,b=d.length;b>a;a++)!0!==d[a].fired&&e.push(d[a]);if(e.length)for(a=0,b=e.length;b>a;a++)e[a].scope?e[a].method.apply(e[a].scope,c):e[a].method.apply(this,c),f||(e[a].fired=!0);return!0},s=function(){a.setTimeout(function(){jb.useFlashBlock&&N(),r(),"function"==typeof jb.onload&&jb.onload.apply(a),jb.waitForWindowLoad&&cb.add(a,"load",s)},1)},fb=function(){if(eb!==b)return eb;var c,d=!1,e=navigator,f=e.plugins,g=a.ActiveXObject;if(f&&f.length)(e=e.mimeTypes)&&e["application/x-shockwave-flash"]&&e["application/x-shockwave-flash"].enabledPlugin&&e["application/x-shockwave-flash"].enabledPlugin.description&&(d=!0);else if(g!==b&&!mb.match(/MSAppHost/i)){try{c=new g("ShockwaveFlash.ShockwaveFlash")}catch(h){c=null}d=!!c}return eb=d},X=function(){var a,b,c=jb.audioFormats;if(Gb&&mb.match(/os (1|2|3_0|3_1)/i)?(jb.hasHTML5=!1,jb.html5Only=!0,jb.oMC&&(jb.oMC.style.display="none")):!jb.useHTML5Audio||jb.html5&&jb.html5.canPlayType||(jb.hasHTML5=!1),jb.useHTML5Audio&&jb.hasHTML5)for(b in W=!0,c)c.hasOwnProperty(b)&&c[b].required&&(jb.html5.canPlayType(c[b].type)?jb.preferFlash&&(jb.flash[b]||jb.flash[c[b].type])&&(a=!0):(W=!1,a=!0));return jb.ignoreFlash&&(a=!1,W=!0),jb.html5Only=jb.hasHTML5&&jb.useHTML5Audio&&!a,!jb.html5Only},V=function(a){var b,c,d=0;if(a instanceof Array){for(b=0,c=a.length;c>b;b++)if(a[b]instanceof Object){if(jb.canPlayMIME(a[b].type)){d=b;break}}else if(jb.canPlayURL(a[b])){d=b;break}a[d].url&&(a[d]=a[d].url),a=a[d]}return a},S=function(a){a._hasTimer||(a._hasTimer=!0,!Mb&&jb.html5PollingInterval&&(null===Ab&&0===zb&&(Ab=setInterval(U,jb.html5PollingInterval)),zb++))},T=function(a){a._hasTimer&&(a._hasTimer=!1,!Mb&&jb.html5PollingInterval&&zb--)},U=function(){var a;if(null!==Ab&&!zb)return clearInterval(Ab),Ab=null,!1;for(a=jb.soundIDs.length-1;a>=0;a--)jb.sounds[jb.soundIDs[a]].isHTML5&&jb.sounds[jb.soundIDs[a]]._hasTimer&&jb.sounds[jb.soundIDs[a]]._onTimer()},G=function(c){c=c!==b?c:{},"function"==typeof jb.onerror&&jb.onerror.apply(a,[{type:c.type!==b?c.type:null}]),c.fatal!==b&&c.fatal&&jb.disable()},gb=function(){if(!Nb||!fb())return!1;var a,b,c=jb.audioFormats;for(b in c)if(c.hasOwnProperty(b)&&("mp3"===b||"mp4"===b)&&(jb.html5[b]=!1,c[b]&&c[b].related))for(a=c[b].related.length-1;a>=0;a--)jb.html5[c[b].related[a]]=!1},this._setSandboxType=function(){},this._externalInterfaceOK=function(){return jb.swfLoaded?!1:(jb.swfLoaded=!0,Pb=!1,Nb&&gb(),void setTimeout(k,Ib?100:1))},F=function(a,c){function d(a,b){return'<param name="'+a+'" value="'+b+'" />'}if(qb&&rb)return!1;if(jb.html5Only)return w(),jb.oMC=h(jb.movieID),k(),rb=qb=!0,!1;var e,f,g,i=c||jb.url,j=jb.altURL||i,l=E(),m=O(),n=null,n=ob.getElementsByTagName("html")[0],n=n&&n.dir&&n.dir.match(/rtl/i);if(a=a===b?jb.id:a,w(),jb.url=L(Sb?i:j),c=jb.url,jb.wmode=!jb.wmode&&jb.useHighPerformance?"transparent":jb.wmode,null!==jb.wmode&&(mb.match(/msie 8/i)||!Ib&&!jb.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Bb.push(y.spcWmode),jb.wmode=null),l={name:a,id:a,src:c,quality:"high",allowScriptAccess:jb.allowScriptAccess,bgcolor:jb.bgColor,pluginspage:Tb+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:jb.wmode,hasPriority:"true"},jb.debugFlash&&(l.FlashVars="debug=1"),jb.wmode||delete l.wmode,Ib)i=ob.createElement("div"),f=['<object id="'+a+'" data="'+c+'" type="'+l.type+'" title="'+l.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Tb+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',d("movie",c),d("AllowScriptAccess",jb.allowScriptAccess),d("quality",l.quality),jb.wmode?d("wmode",jb.wmode):"",d("bgcolor",jb.bgColor),d("hasPriority","true"),jb.debugFlash?d("FlashVars",l.FlashVars):"","</object>"].join("");else for(e in i=ob.createElement("embed"),l)l.hasOwnProperty(e)&&i.setAttribute(e,l[e]);if(I(),m=O(),l=E())if(jb.oMC=h(jb.movieID)||ob.createElement("div"),jb.oMC.id)g=jb.oMC.className,jb.oMC.className=(g?g+" ":"movieContainer")+(m?" "+m:""),jb.oMC.appendChild(i),Ib&&(e=jb.oMC.appendChild(ob.createElement("div")),e.className="sm2-object-box",e.innerHTML=f),rb=!0;else{if(jb.oMC.id=jb.movieID,jb.oMC.className="movieContainer "+m,e=m=null,jb.useFlashBlock||(jb.useHighPerformance?m={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(m={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},n&&(m.left=Math.abs(parseInt(m.left,10))+"px"))),Jb&&(jb.oMC.style.zIndex=1e4),!jb.debugFlash)for(g in m)m.hasOwnProperty(g)&&(jb.oMC.style[g]=m[g]);try{Ib||jb.oMC.appendChild(i),l.appendChild(jb.oMC),Ib&&(e=jb.oMC.appendChild(ob.createElement("div")),e.className="sm2-object-box",e.innerHTML=f),rb=!0}catch(o){throw Error(M("domError")+" \n"+o.toString())}}return qb=!0},z=function(){return jb.html5Only?(F(),!1):lb||!jb.url?!1:(lb=jb.getMovie(jb.id),lb||(vb?(Ib?jb.oMC.innerHTML=wb:jb.oMC.appendChild(vb),vb=null,qb=!0):F(jb.id,jb.url),lb=jb.getMovie(jb.id)),"function"==typeof jb.oninitmovie&&setTimeout(jb.oninitmovie,1),!0)},t=function(){setTimeout(u,1e3)},v=function(){a.setTimeout(function(){jb.setup({preferFlash:!1}).reboot(),jb.didFlashBlock=!0,jb.beginDelayedInit()},1)},u=function(){var b,c=!1;return!jb.url||xb?!1:(xb=!0,cb.remove(a,"load",t),eb&&Pb&&!Ob?!1:(sb||(b=jb.getMoviePercent(),b>0&&100>b&&(c=!0)),void setTimeout(function(){return b=jb.getMoviePercent(),c?(xb=!1,a.setTimeout(t,1),!1):void(!sb&&Qb&&(null===b?jb.useFlashBlock||0===jb.flashLoadTimeout?jb.useFlashBlock&&N():!jb.useFlashBlock&&W?v():r({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==jb.flashLoadTimeout&&(!jb.useFlashBlock&&W?v():K(!0))))},jb.flashLoadTimeout)))},x=function(){return Ob||!Pb?(cb.remove(a,"focus",x),!0):(Ob=Qb=!0,xb=!1,t(),cb.remove(a,"focus",x),!0)},m=function(b){if(sb)return!1;if(jb.html5Only)return sb=!0,s(),!0;var c,d=!0;return jb.useFlashBlock&&jb.flashLoadTimeout&&!jb.getMoviePercent()||(sb=!0),c={type:!eb&&Cb?"NO_FLASH":"INIT_TIMEOUT"},(tb||b)&&(jb.useFlashBlock&&jb.oMC&&(jb.oMC.className=O()+" "+(null===jb.getMoviePercent()?"swf_timedout":"swf_error")),r({type:"ontimeout",error:c,ignoreInit:!0}),G(c),d=!1),tb||(jb.waitForWindowLoad&&!ub?cb.add(a,"load",s):s()),d},j=function(){var a,c=jb.setupOptions;for(a in c)c.hasOwnProperty(a)&&(jb[a]===b?jb[a]=c[a]:jb[a]!==c[a]&&(jb.setupOptions[a]=jb[a]))},k=function(){if(sb)return!1;if(jb.html5Only)return sb||(cb.remove(a,"load",jb.beginDelayedInit),jb.enabled=!0,m()),!0;z();try{lb._externalInterfaceTest(!1),H(!0,jb.flashPollingInterval||(jb.useHighPerformance?10:50)),jb.debugMode||lb._disableDebug(),jb.enabled=!0,jb.html5Only||cb.add(a,"unload",i)}catch(b){return G({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),K(!0),m(),!1}return m(),cb.remove(a,"load",jb.beginDelayedInit),!0},B=function(){return D?!1:(D=!0,j(),I(),!eb&&jb.hasHTML5&&jb.setup({useHTML5Audio:!0,preferFlash:!1}),bb(),!eb&&Cb&&(Bb.push(y.needFlash),jb.setup({flashLoadTimeout:1})),ob.removeEventListener&&ob.removeEventListener("DOMContentLoaded",B,!1),z(),!0)},ab=function(){return"complete"===ob.readyState&&(B(),ob.detachEvent("onreadystatechange",ab)),!0},C=function(){ub=!0,cb.remove(a,"load",C)},A=function(){Mb&&(jb.setupOptions.useHTML5Audio=!0,jb.setupOptions.preferFlash=!1,Gb||Hb&&!mb.match(/android\s2\.3/i))&&(Gb&&(jb.ignoreFlash=!0),Eb=!0)},A(),fb(),cb.add(a,"focus",x),cb.add(a,"load",t),cb.add(a,"load",C),ob.addEventListener?ob.addEventListener("DOMContentLoaded",B,!1):ob.attachEvent?ob.attachEvent("onreadystatechange",ab):G({type:"NO_DOM2_EVENTS",fatal:!0})}var d=null;void 0!==a.SM2_DEFER&&SM2_DEFER||(d=new c),a.SoundManager=c,a.soundManager=d}(window)},{}],8:[function(a,b){b.exports=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()},{}],9:[function(a,b){var c=function(){var a="(-webkit-min-device-pixel-ratio: 1.5),  (min--moz-device-pixel-ratio: 1.5),  (-o-min-device-pixel-ratio: 3/2),  (min-resolution: 1.5dppx)";return window.devicePixelRatio>1?!0:window.matchMedia&&window.matchMedia(a).matches?!0:!1};b.exports=c},{}],10:[function(a,b,c){{var d=c.get=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.onload=function(){b(this.response)},c.send()};c.getJSON=function(a,b){d(a,function(a){b(JSON.parse(a))})}}c.isFunction=function(a){return!!(a&&a.constructor&&a.call&&a.apply)}},{}],11:[function(a,b){var c=function(a){this.canvas=a,this.width=null,this.height=null,this.ctx=a.getContext("2d")};c.prototype.include=function(a){for(var b in a)this[b]=a[b]},c.prototype.beginFrame=function(){this.ctx.clearRect(0,0,this.width,this.height)},c.prototype.endFrame=function(){},c.prototype.scaleCanvas=function(a){this.canvas.style.width=this.canvas.width+"px",this.canvas.style.height=this.canvas.height+"px",this.canvas.width*=a,this.canvas.height*=a,this.scale(a)},c.prototype.scale=function(a){this.ctx.scale(a,a)},c.prototype.sprite=function(a,b,c,d,e,f,g){d=d||0,e=e||0,f=f||a.width,g=g||a.height,b=Math.floor(b),c=Math.floor(c);var h=f,i=g;a.source_image.match(/@2x.png$/)&&(h/=2,i/=2),this.ctx.drawImage(a.image,a.x+d,a.y+e,f,g,b,c,h,i)},c.prototype.animation=function(a,b,c){this.sprite(a.sprite,b,c,a.offsetX,a.offsetY,a.width,a.height)},b.exports=c},{}]},{},[1])(1)});